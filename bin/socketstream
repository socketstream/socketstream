#!/usr/bin/env node
var util          = require('util');
var fs            = require('fs');
var argParser     = require('argsparser');
var lib           = __dirname + '/../lib';

var args          = argParser.parse().node;
var command       = args[1];
var params        = args.slice(2);

var SS            = require(lib + '/socketstream');

switch(command) {
  case 'start':
  case 's':
    util.log('Starting SocketStream...');
    SS.init().start();
    break;
  case 'new':
  case 'n':
    var gen = require(lib + '/cli/app_generator.coffee');
    new gen.AppGenerator(params[0]);
    break;
  case 'console':
  case 'c':
    SS.init();
    var repl = require('repl');
    repl.start('SocketStream > ');
    break;
  default:
    console.log('Sorry, I do not know how to ' + command);
};
